### 

# java程序员需要掌握的计算机底层知识v1.0

**微机原理，计算机组成原理，操作系统**

## 前言

今天聊计算机的底层知识，我原来打算把计算机组成原理和操作系统分开讲，但是组成原理和操作系统也是密不可分，所以我将它统一成了一门课“java程序员应该掌握的计算机底层知识”。主要是给非计算机专业的小伙伴们讲的。本课程主要是针对  **java程序员**需要掌握的。有一些确实不是java程序员必须掌握的，比如说：汇编，硬件相关的电路，暂时先放一边。

## 第一版内容

1. 硬件基础知识 （Java相关硬件知识）

2. 汇编语言的执行过程（时钟发生器 寄存器 程序计数器）

3. 计算机启动过程

4. 操作系统基本知识

5. 进程、线程、纤程的基本概念（面试高频）

   -讲解**纤程**在操作系统的实现

   ​	【面试题】：进程、线程、纤程的区别，纤程是怎么实现的

6. 内存管理 `重点`

   ​	整个进程里的虚拟内存，虚拟内存怎么装到物理内存，物理内存怎么样进行管理。

   ​	【面试题】面试问操作系统的话问内存管理的也有。

7. 进程管理和线程管理（进程与线程在Linux中的实现）

   进程调度与线程调度

8. 中断与系统调用（软中断）

9. 内核同步基础知识

   内核和线程之间是怎么样进行同步的，平时写的同步在内核是怎么样实现的

10. 关于硬盘 IO DMA

     (Direct Memory Access，直接存储器访问)  典型的例子就是移动一个外部内存的区块到芯片内部更快的内存区 

<img src="D:\Z_lhy\STUDY\java程序员应知底层\img\1606036671410.png" alt="1606036671410" style="zoom:50%;margin-left:10px" />



## 荐书

要事为先，先学课程，空闲时间翻翻书。

 读书的原则：不求甚解，观其大略 。不要一个字一个字的扣。

观看顺序如下编号

 ▪ 1，讲解计算机工作原理

​		《编码：隐匿在计算机软硬件背后的语言》，浅显。对计算机一点也不理解，看这本书			

▪ 2，理解计算机由哪写最主要的部分组成

​		《深入理解计算机系统》难，每个部门解决哪写功能。

▪3，学习一门语言：C  ， JAVA 

​	 《C程序设计语言》作者K&R，《C Primer Plus》理解一门编程语言，可以是C，java也行，不能是python（高级语言）

▪ 4，数据结构与算法： -- 毕生的学习 刷leetCode题

​		–《Java数据结构与算法》《算法》挑一本

​		*–《算法导论》《计算机程序设计艺术》//难，算法大师写的，先扔一边*

​		学完语言就需要学习数据结构与算法，碎片化时间学习，见一个学一个。

▪ 5，操作系统

​		*Linux内核源码解析*  《Linux内核设计与实现 》《30天自制操作系统》

▪ 6，网络

​		机械工业出版社《TCP/IP详解》卷一， 翻译比较一般

▪ 7，编译原理：

​		机械工业出版社 龙书 《编译原理》 《编程语言实现模式》

▪ 8，数据库：

​		SQLite源码 Derby - JDK自带数据库

<img src="C:\Users\lihaoyang6\AppData\Roaming\Typora\typora-user-images\1606044718680.png" alt="1606044718680" style="zoom:50%;margin-left:10px" />

## 硬件基础知识

**关于底层细节：**

适度打开

很多情况下保持黑箱即可，因为打开这个黑箱，你就会发现黑箱会变成黑洞，吞噬你所有的精力和时间，有可能使你偏离原来的方向，陷入到不必要的细节中无法自拔。

你写java，写python的人没必要把黑盒打开看看，如果每天就是用，没必要打开，为什么要扒开？就是因为面试，有些面试官觉得你只会用，你没法证明你比别人牛，只能问问原理。



## CPU的制作过程

 Intel cpu的制作过程 

 https://haokan.baidu.com/v?vid=11928468945249380709&pd=bjh&fr=bjhauthor&type=video 

 CPU是如何制作的（文字描述） 

 https://www.sohu.com/a/255397866_468626 

![1606047670587](D:\Z_lhy\STUDY\java程序员应知底层\img\1606047670587.png)



## CPU的原理

计算机需要解决的最根本问题：如何代表数字

晶体管是如何工作的：

[https://haokan.baidu.com/v?vid=16026741635006191272&pd=bjh&fr=bjhauthor&type=](https://haokan.baidu.com/v?vid=16026741635006191272&pd=bjh&fr=bjhauthor&type=video)[video](https://haokan.baidu.com/v?vid=16026741635006191272&pd=bjh&fr=bjhauthor&type=video)

晶体管的工作原理：

https://www.bilibili.com/video/av47388949?p=2

![1606049136255](D:\Z_lhy\STUDY\java程序员应知底层\img\1606049136255.png)

刚开始，电子管做计算，算着算着，灯泡坏了。

后来发现了半导体 ，才有了现代的计算机，体积特别小还能代表1和0。

硅--> 掺杂 -->制成两种半导体：P型半导体，N型半导体







## CPU的基本组成

PC -> Program Counter 程序计数器 （记录当前指令地址）

Registers -> 暂时存储CPU计算需要用到的数据

ALU -> Arithmetic & Logic Unit 运算单元

CU -> Control Unit 控制单元

MMU -> Memory Management Unit 内存管理单元

cache

---

## 题外话-arm架构和x86架构

**什么叫ARM架构**

 ARM架构过去称作进阶精简指令集机器（AdvancedRISCMachine，更早称作：AcornRISCMachine），是一个32位精简指令集（RISC）处理器架构，其广泛地使用在许多嵌入式系统设计。由于节能的特点，ARM处理器非常适用于移动通讯领域，符合其主要设计目标为低耗电的特性。 

**ARM架构图**

它由32位ALU、若干个32位通用寄存器以及状态寄存器、32&TImes;8位乘法器、32&TImes;32位桶形移位寄存器、指令译码以及控制逻辑、指令流水线和数据/地址寄存器组成。

　　1、ALU：它有两个操作数锁存器、加法器、逻辑功能、结果以及零检测逻辑构成。

　　2、桶形移位寄存器：ARM采用了32&TImes;32位的桶形移位寄存器，这样可以使在左移/右移n位、环移n位和算术右移n位等都可以一次完成。

　　3、高速乘法器：乘法器一般采用“加一移位”的方法来实现乘法。ARM为了提高运算速度，则采用两位乘法的方法，根据乘数的2位来实现“加一移位”运算;ARM高速乘法器采用32&TImes;8位的结构，这样，可以降低集成度（其相应芯片面积不到并行乘法器的1/3）。

　　4、浮点部件：浮点部件是作为选件供ARM构架使用。FPA10浮点加速器是作为协处理方式与ARM相连，并通过协处理指令的解释来执行。

　　5、控制器：ARM的控制器采用的是硬接线的可编程逻辑阵列PLA。

　　6、寄存器

![](D:\Z_lhy\STUDY\java程序员应知底层\Sys_IO\doc\img\ARM.jpg)

**X86架构**

 目前的PC架构绝大多数都是Intel的X86架构，貌似也是因为INTEL的这个X86架构早就了目前INTEL如日中天的地位。X86架构（The X86 architecture）是微处理器执行的计算机语言指令集，指一个intel通用计算机系列的标准编号缩写，也标识一套通用的计算机指令集合。 

![](D:\Z_lhy\STUDY\java程序员应知底层\Sys_IO\doc\img\X86.jpg)

　当然，这个架构图并不是所有的都是如此，根据不同的主板，平台，架构是略有差别的比如说，目前很多主板已经将北桥集成到CPU当中，将南桥集成为PCH，但大致的框架还是如此的。下面对这个架构图上的各个内容分别进行一些简介。

　　1：CPU，大家都不陌生的名词，中央处理器，计算机的核心大脑。

　　2： 北桥（North Bridge Chipset）：北桥是电脑主板上的一块芯片，位于CPU插座边，起连接作用。

　　3：南桥芯片（South Bridge）是主板芯片组的重要组成部分，一般位于主板上离CPU插槽较远的下方，PCI插槽的附近，这种布局是考虑到它所连接的I/O总线较多，离处理器远一点有利于布线。

　　4： 内存是计算机中重要的部件之一，它是与CPU进行沟通的桥梁。计算机中所有程序的运行都是在内存中进行的，因此内存的性能对计算机的影响非常大。

　　5：显卡（Video card，Graphics card）全称显示接口卡，又称显示适配器，是计算机最基本配置、最重要的配件之一。

　　6：显示j接口

　　7：网卡是工作在链路层的网络组件，是局域网中连接计算机和传输介质的接口，不仅能实现与局域网传输介质之间的物理连接和电信号匹配，还涉及帧的发送与接收、帧的封装与拆封、介质访问控制、数据的编码与解码以及数据缓存的功能等。

　　8：声卡的基本功能是把来自话筒、磁带、光盘的原始声音信号加以转换，输出到耳机、扬声器、扩音机、录音机等声响设备，或通过音乐设备数字接口（MIDI）使乐器发出美妙的声音。

　　9：SATA（Serial Advanced Technology Attachment，串行高级技术附件）是一种基于行业标准的串行硬件驱动器接口，是由Intel、IBM、Dell、APT、Maxtor和Seagate公司共同提出的硬盘接口规范。

　　10：硬盘是电脑主要的存储媒介之一，由一个或者多个铝制或者玻璃制的碟片组成。碟片外覆盖有铁磁性材料。

　　11：总线